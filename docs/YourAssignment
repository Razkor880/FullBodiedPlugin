# YourAssignment

This document contains **explicit, temporary instructions** for the current task.

It is intentionally task-scoped and non-canonical.

---

## Authority Order

If instructions conflict, resolve them in this order:

1. `docs/architecture` (canonical once stable)
2. This document (`YourAssignment`)
3. `docs/design_notes`

This document may override defaults and workflows,  
but it does **not** redefine architecture or external contracts.

---

## Executor Role Definition

You are an **executor GPT**.

Your job is to:
- Implement or refactor code exactly as instructed
- Preserve existing behavior unless explicitly told otherwise
- Keep changes scoped, readable, and reversible
- Ask before making architectural changes

You must **not**:
- Invent new systems beyond the scope described here
- Change external contracts (INI grammar, event names, semantics)
- Perform speculative refactors
- “Improve” unrelated code while you are here

If unsure: **stop and ask**.

---

## Task Goal (High-Level)

Introduce **optional tweening support for morph timelines** while preserving the existing INI-driven pipeline, call graph, and behavior.

This work must:
- Be fully backward-compatible
- Avoid data model churn
- Prepare (but not implement) future HKX timeline support

---

## Non-Goals

- No HKX parsing or binary loaders
- No visibility or face morph systems
- No scheduler or threading rewrites
- No variant-based command system
- No INI format redesign
- No behavior graph changes beyond existing entry points

---

## Stop Conditions (Ask Before Proceeding)

Stop and ask the user if:
- A change would affect INI grammar or ordering guarantees
- A new data structure seems unavoidable
- Tween logic interacts unexpectedly with paired animations
- Skeleton differences introduce ambiguous behavior
- More than 2–3 Skyrim-specific edge cases appear

---

====================================
FULL CHECKLIST (EXECUTION PLAN)
====================================

### PHASE 0 — CONTEXT + CONSTRAINTS

- Current baseline is stable and working using:
  INI → FBConfig → Timeline → ActorManager → MorphBridge → NiOverride

- Mod already supports:
  - node scaling
  - morph deltas
  - sticky behavior

- No HKX parsing layer exists yet  
  → no changes should break current INI flow

- Tweening, curves, and optional durations are **new**

- Visibility and face morph modules are deferred

- Keep code readable and reversible

- Avoid timeline-format churn until HKX adapter exists

- Do not invent new data structures unless strictly necessary

---

### PHASE 1 — DATA MODEL (MINIMAL)

Extend `TimedCommand` with the following fields:

- `morphName : string` (existing)
- `delta : float` (existing)
- `tweenSeconds : float` (optional, default = 0.0 = instant)
- `tweenCurve : enum or string` (optional, default = linear)

Constraints:
- No change to `Timeline` storage type (`vector<TimedCommand>`)
- No change to sticky semantics
- Do **not** introduce variant command types
- Morph-only model remains in place for now

---

### PHASE 2 — INI LOADER (MINIMAL DELTAS)

Modify parser to detect extended syntax **without breaking old syntax**.

Example:
